
# STS

设计一个类似于 Amazon STS（Security Token Service）服务的功能目标

## 功能目标
临时安全凭证：提供临时的安全凭证，允许用户在限定时间内访问 AWS 资源。
身份验证与授权：支持多种身份验证机制（如 AWS IAM 用户、外部身份提供者等），并根据策略进行授权。
跨账户访问：允许用户跨 AWS 账户访问资源，通过角色切换实现。
细粒度权限控制：支持基于策略的权限控制，用户可以根据需求自定义访问权限。
会话管理：提供会话管理功能，包括会话的创建、续期和终止。
安全审计：记录所有的凭证请求和使用情况，以便进行安全审计和合规检查。
集成其他服务：能够与其他 AWS 服务（如 S3、EC2、Lambda 等）无缝集成，提供统一的访问控制。


### 临时安全凭证
用途
临时安全凭证允许用户在特定时间段内访问 AWS 资源，而不需要使用长期有效的访问密钥。这种方式提高了安全性，降低了凭证泄露的风险。

功能场景
场景：开发者需要在 AWS 上运行一个应用程序，但不希望使用长期凭证来避免安全风险。
例子：一个开发者在本地开发环境中运行一个应用程序，该应用程序需要访问 S3 存储桶。通过 STS，开发者请求一个临时安全凭证，允许其在 1 小时内访问指定的 S3 存储桶。开发者在获得临时凭证后，可以安全地进行开发和测试，而不必担心长期凭证被泄露。

### 身份验证与授权
用途
身份验证是确认用户身份的过程，而授权是确定用户是否有权访问特定资源的过程。结合这两个过程，可以确保只有经过验证的用户才能访问特定的 AWS 资源。

功能场景
场景：企业内部有多个团队，每个团队需要访问不同的 AWS 资源。
例子：一个公司有开发团队和运维团队。开发团队需要访问开发环境的 EC2 实例，而运维团队需要访问生产环境的 EC2 实例。通过 STS，企业可以设置不同的身份验证机制（如 IAM 用户或外部身份提供者），并根据团队的角色和职责分配相应的访问权限。只有经过身份验证的用户才能访问他们被授权的资源。
### 会话管理
用途
会话管理允许用户创建、续期和终止会话。这对于控制用户在 AWS 资源上的访问非常重要，尤其是在需要临时访问的情况下。

功能场景
场景：用户在 AWS 上运行一个临时项目，需要在项目期间访问多个服务。
例子：一个数据科学家正在进行一个为期 3 天的项目，需要访问多个 AWS 服务（如 S3、Redshift 和 Lambda）。通过 STS，数据科学家可以创建一个会话，并获得临时凭证，允许其在项目期间访问这些服务。在项目结束后，数据科学家可以主动终止会话，从而确保凭证不再有效，进一步增强安全性。


